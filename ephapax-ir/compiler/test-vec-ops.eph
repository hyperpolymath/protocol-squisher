// Test Vec operations
fn main() -> i32 {
    // Create empty vector and add elements
    let v1 = vec_new();
    let v2 = vec_push(v1, 10);
    let v3 = vec_push(v2, 20);
    let v4 = vec_push(v3, 30);

    // Test length (borrowing)
    let len = vec_length(&v4);
    print(len);  // Should print 3

    // Test get at index 0
    let result1 = match vec_get(&v4, 0) {
        Some(val) => {
            print(val);  // Should print 10
            0
        }
        None => 1
    };

    // Test get at index 1
    let result2 = match vec_get(&v4, 1) {
        Some(val) => {
            print(val);  // Should print 20
            0
        }
        None => 1
    };

    // Test get at invalid index (should return None)
    let result3 = match vec_get(&v4, 10) {
        Some(val) => 1,  // Shouldn't reach here
        None => {
            print(999);  // Should print 999
            0
        }
    };

    // Test pop (returns the popped element)
    let pop_result = vec_pop(v4);
    match pop_result {
        Some(last_val) => {
            print(last_val);  // Should print 30
            0
        }
        None => 1
    }
}
