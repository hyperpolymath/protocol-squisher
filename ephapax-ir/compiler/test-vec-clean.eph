// Clean Vec operations test
fn main() -> i32 {
    let v1 = vec_new();
    let v2 = vec_push(v1, 10);
    let v3 = vec_push(v2, 20);
    let v4 = vec_push(v3, 30);

    let result = {
        // Test length
        print(vec_length(&v4));  // Should print 3

        // Test get at valid index
        let val0 = match vec_get(&v4, 0) {
            Some(v) => v,
            None => 999
        };
        print(val0);  // Should print 10

        // Test get at another valid index
        let val1 = match vec_get(&v4, 1) {
            Some(v) => v,
            None => 999
        };
        print(val1);  // Should print 20

        // Test get at invalid index
        match vec_get(&v4, 10) {
            Some(v) => v,
            None => 0  // Should return 0
        }
    };

    // Test pop
    match vec_pop(v4) {
        Some(last_val) => {
            print(last_val);  // Should print 30
            result
        }
        None => 1
    }
}
